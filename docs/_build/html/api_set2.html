

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Set 2 &mdash; Zoom Documentation 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Zoom Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="readme.html">Zoom Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/cli.html">Zoom CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Zoom Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Set 2</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api_set2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-set-2">
<h1>API Set 2<a class="headerlink" href="#api-set-2" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="module-zoom.store">
<span id="zoom-store-module"></span><h2>zoom.store module<a class="headerlink" href="#module-zoom.store" title="Permalink to this headline">¶</a></h2>
<p>zoom.store</p>
<p>key value store</p>
<dl class="class">
<dt id="zoom.store.EntityStore">
<em class="property">class </em><code class="descclassname">zoom.store.</code><code class="descname">EntityStore</code><span class="sig-paren">(</span><em>db</em>, <em>klass=&lt;class 'dict'&gt;</em>, <em>kind=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoom.store.Store" title="zoom.store.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoom.store.Store</span></code></a></p>
<p>stores entities</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stuff</span> <span class="o">=</span> <span class="n">EntityStore</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuff</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">14</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuff</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">34</span><span class="p">))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuff</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">34</span><span class="p">))</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">zoom</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">RecordList</span><span class="p">(</span><span class="n">stuff</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">)))</span>
<span class="go">dict</span>
<span class="go">_id name age</span>
<span class="go">--- ---- ---</span>
<span class="go">  1 Joe   14</span>
<span class="go">1 dict records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">stuff</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">34</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">dict</span>
<span class="go">_id name  age</span>
<span class="go">--- ----- ---</span>
<span class="go">  2 Sally  34</span>
<span class="go">  3 Sam    34</span>
<span class="go">2 dict records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">kind</span>
<span class="go">&#39;person&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">birthdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 20, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 20, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">kids</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">birthdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;kids&#39;: 0, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;kids&#39;: 0, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;kids&#39;: 1, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;kids&#39;: 2, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;kids&#39;: 3, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Misc</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">misc</span> <span class="o">=</span> <span class="n">Misc</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">config_info</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;database&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;somename&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">config_info</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">other</span><span class="o">=</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="n">stuff</span><span class="o">=</span><span class="s1">&#39;that&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_info</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Record</span><span class="p">(</span><span class="n">my_info</span><span class="p">)</span>
<span class="go">&lt;Record {&#39;name&#39;: &#39;somename&#39;, &#39;host&#39;: &#39;database&#39;}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Record</span><span class="p">(</span><span class="n">misc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">&lt;Record {&#39;other&#39;: &#39;this&#39;, &#39;stuff&#39;: &#39;that&#39;}&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">EntityStore</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s1">&#39;person&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">klass</span>
<span class="go">&lt;class &#39;dict&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">kind</span>
<span class="go">&#39;person&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<span class="go">[(&#39;__store&#39;, &lt;EntityStore(dict)&gt;), (&#39;_id&#39;, 2), (&#39;birthdate&#39;, datetime.date(1992, 5, 5)), (&#39;kids&#39;, 3), (&#39;name&#39;, &#39;Sally&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)))</span>
<span class="go">Person</span>
<span class="go">  name ................: &#39;Sally&#39;</span>
<span class="go">  kids ................: 3</span>
<span class="go">  birthdate ...........: datetime.date(1992, 5, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">EntityStore</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s1">&#39;person&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">)[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
<span class="go">20</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;somename&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;database&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_info</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">type</span><span class="p">(</span><span class="n">my_info</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span><span class="o">==</span><span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="zoom.store.EntityStore.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves all entities</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;, &lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;, &lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>delete entities</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">[3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sallie&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>tests for existence of an entity</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[True, False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[True, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>**kv</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.find" title="Permalink to this definition">¶</a></dt>
<dd><p>finds entities that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="go">person</span>
<span class="go">_id name age</span>
<span class="go">--- ---- ---</span>
<span class="go">  1 Sam   25</span>
<span class="go">  3 Bob   25</span>
<span class="go">2 person records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.first">
<code class="descname">first</code><span class="sig-paren">(</span><em>**kv</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.first" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the first entity that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 55}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>retrives entities</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;salary&#39;</span><span class="p">:</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;100.00&#39;</span><span class="p">)}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 15, &#39;salary&#39;: Decimal(&#39;100.00&#39;)}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Jim&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">salary</span><span class="o">=</span><span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="s1">&#39;50&#39;</span><span class="p">)))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">29</span><span class="p">))</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="go">person</span>
<span class="go">_id name  age salary</span>
<span class="go">--- ----- --- ------</span>
<span class="go">  1 Sam    15 100.00</span>
<span class="go">  2 Jim    21 50</span>
<span class="go">  3 Alice  29 None</span>
<span class="go">3 person records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">]))</span>
<span class="go">person</span>
<span class="go">_id name  age salary</span>
<span class="go">--- ----- --- ------</span>
<span class="go">  1 Sam    15 100.00</span>
<span class="go">  3 Alice  29 None</span>
<span class="go">2 person records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.get_attributes">
<code class="descname">get_attributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.get_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>get complete set of attributes for the entity type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">sam</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;age&#39;, &#39;name&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sam</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">get_attributes</span><span class="p">())</span>
<span class="go">[&#39;age&#39;, &#39;name&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.last">
<code class="descname">last</code><span class="sig-paren">(</span><em>**kv</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.last" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the last entity that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Bob&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>entity</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.put" title="Permalink to this definition">¶</a></dt>
<dd><p>stores an entity</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 35}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;James&#39;, &#39;age&#39;: 15}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;Not this one&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grades</span> <span class="o">=</span> <span class="p">((</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Not this one&#39;</span><span class="p">,</span> <span class="s1">&#39;C+&#39;</span><span class="p">),</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="s1">&#39;classes&#39;</span><span class="p">:</span><span class="n">classes</span><span class="p">,</span> <span class="s1">&#39;grades&#39;</span><span class="p">:</span> <span class="n">grades</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">classes</span> <span class="o">==</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">classes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">grades</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>  <span class="c1"># json dump/load will bring back all tuples as lists</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search for entities that match text</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;bob&#39;</span><span class="p">))</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Bob&#39;, &#39;age&#39;: 25}&gt;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="mi">25</span><span class="p">)):</span> <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">Person</span>
<span class="go">  name ................: &#39;Sam&#39;</span>
<span class="go">  age .................: 25</span>
<span class="go">Person</span>
<span class="go">  name ................: &#39;Bob&#39;</span>
<span class="go">  age .................: 25</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Bill&#39;</span><span class="p">))</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.store.EntityStore.zap">
<code class="descname">zap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.EntityStore.zap" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes all entities of the given kind</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">EntityStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;, &lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;, &lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">zap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoom.store.Store">
<em class="property">class </em><code class="descclassname">zoom.store.</code><code class="descname">Store</code><a class="headerlink" href="#zoom.store.Store" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="zoom.store.Store.after_delete">
<code class="descname">after_delete</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.after_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.store.Store.after_insert">
<code class="descname">after_insert</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.after_insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.store.Store.after_update">
<code class="descname">after_update</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.after_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.store.Store.before_delete">
<code class="descname">before_delete</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.before_delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.store.Store.before_insert">
<code class="descname">before_insert</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.before_insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.store.Store.before_update">
<code class="descname">before_update</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.Store.before_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="zoom.store.entify">
<code class="descclassname">zoom.store.</code><code class="descname">entify</code><span class="sig-paren">(</span><em>rs</em>, <em>storage</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.entify" title="Permalink to this definition">¶</a></dt>
<dd><p>converts query result into an EntityList</p>
</dd></dl>

<dl class="function">
<dt id="zoom.store.store_of">
<code class="descclassname">zoom.store.</code><code class="descname">store_of</code><span class="sig-paren">(</span><em>klass</em>, <em>db=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.store.store_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a store of the given entity class</p>
<p>The klass parameter can be a subclass of zoom.Model or
an entity kind.  If a zoom.Model is provided the actual
entity kind is derived from the class name.  If the entity
kind is provivded as a string then it’s taken as-is.</p>
<p>Uses the current site database if none is provided.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">zoom</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">Site</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">store_of</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">site</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
<span class="go">55</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-zoom.records">
<span id="zoom-records-module"></span><h2>zoom.records module<a class="headerlink" href="#module-zoom.records" title="Permalink to this headline">¶</a></h2>
<p>zoom.records</p>
<p>record store</p>
<dl class="class">
<dt id="zoom.records.RecordStore">
<em class="property">class </em><code class="descclassname">zoom.records.</code><code class="descname">RecordStore</code><span class="sig-paren">(</span><em>db</em>, <em>record_class=&lt;class 'dict'&gt;</em>, <em>name=None</em>, <em>key='id'</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#zoom.store.Store" title="zoom.store.Store"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoom.store.Store</span></code></a></p>
<p>stores records</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">kind</span>
<span class="go">&#39;person&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">birthdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 20, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">person</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 20, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">kids</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">birthdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;kids&#39;: 0, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;kids&#39;: 0, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;kids&#39;: 1, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;kids&#39;: 2, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">kids</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&#39;kids&#39;: 3, &#39;birthdate&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Account</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Accounts</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span> <span class="o">=</span> <span class="n">Accounts</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Account</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;account_id&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span><span class="o">.</span><span class="n">kind</span>
<span class="go">&#39;account&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">account</span> <span class="o">=</span> <span class="n">Account</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">added</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">1992</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">account</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Account {&#39;name&#39;: &#39;Joe&#39;, &#39;added&#39;: datetime.date(1992, 5, 5)}&gt;&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">accounts</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">account</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Account</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">added</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Account</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sal&#39;</span><span class="p">,</span> <span class="n">added</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
<span class="go">3</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">account</span> <span class="o">=</span> <span class="n">accounts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">accounts</span><span class="p">)</span>
<span class="go">account</span>
<span class="go">account_id name added</span>
<span class="go">---------- ---- ----------</span>
<span class="go">         1 Joe  1992-05-05</span>
<span class="go">         2 Sam  2001-01-01</span>
<span class="go">         3 Sal  2001-01-01</span>
<span class="go">3 account records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="go">Account</span>
<span class="go">  account_id ..........: 2</span>
<span class="go">  name ................: &#39;Sam&#39;</span>
<span class="go">  added ...............: datetime.date(2001, 1, 1)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">accounts</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">added</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
<span class="go">account</span>
<span class="go">account_id name added</span>
<span class="go">---------- ---- ----------</span>
<span class="go">         2 Sam  2001-01-01</span>
<span class="go">         3 Sal  2001-01-01</span>
<span class="go">2 account records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">accounts</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[2]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">accounts</span><span class="p">)</span>
<span class="go">account</span>
<span class="go">account_id name added</span>
<span class="go">---------- ---- ----------</span>
<span class="go">         1 Joe  1992-05-05</span>
<span class="go">         3 Sal  2001-01-01</span>
<span class="go">2 account records</span>
</pre></div>
</div>
<dl class="method">
<dt id="zoom.records.RecordStore.all">
<code class="descname">all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves all entities</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">())</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>delete a record</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">[3]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">joe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">joe</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sallie&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">)</span>
<span class="go">[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>keys=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>tests for existence of a record</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[True, False]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">exists</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>finds records that satisfiy filter</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam Adam Jones&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally Mary Smith&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob Marvin Smith&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="s1">&#39;Mary&#39;</span> <span class="ow">in</span> <span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sally Mary Smith&#39;, &#39;age&#39;: 55}&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">)))</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;[&lt;Person {&#39;name&#39;: &#39;Sam Adam Jones&#39;, &#39;age&#39;: 25}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Bob Marvin Smith&#39;, &#39;age&#39;: 25}&gt;]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.find" title="Permalink to this definition">¶</a></dt>
<dd><p>finds entities that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="go">person</span>
<span class="go">_id name age</span>
<span class="go">--- ---- ---</span>
<span class="go">  1 Sam   25</span>
<span class="go">  3 Bob   25</span>
<span class="go">2 person records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">)</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.first">
<code class="descname">first</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.first" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the first record that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>retrives records</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 15}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Jim&#39;</span><span class="p">,</span><span class="n">age</span><span class="o">=</span><span class="mi">21</span><span class="p">))</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="p">)</span>
<span class="go">person</span>
<span class="go">_id name age</span>
<span class="go">--- ---- ---</span>
<span class="go">  1 Sam   15</span>
<span class="go">  2 Jim   21</span>
<span class="go">2 person records</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span><span class="n">age</span><span class="o">=</span><span class="mi">29</span><span class="p">))</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
<span class="go">person</span>
<span class="go">_id name  age</span>
<span class="go">--- ----- ---</span>
<span class="go">  1 Sam    15</span>
<span class="go">  3 Alice  29</span>
<span class="go">2 person records</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.get_attributes">
<code class="descname">get_attributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.get_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>get complete set of attributes for the record type</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sam</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">sam</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;age&#39;, &#39;name&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sam</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">get_attributes</span><span class="p">()</span>
<span class="go">[&#39;name&#39;, &#39;age&#39;, &#39;kids&#39;, &#39;birthdate&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="zoom.records.RecordStore.id_name">
<code class="descname">id_name</code><a class="headerlink" href="#zoom.records.RecordStore.id_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.last">
<code class="descname">last</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.last" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the last record that meet search criteria</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Bob&#39;, &#39;age&#39;: 25}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>record</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.put" title="Permalink to this definition">¶</a></dt>
<dd><p>stores a record</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sally</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">35</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">sally</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">person</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 35}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;James&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
<span class="go">&lt;Person {&#39;name&#39;: &#39;James&#39;, &#39;age&#39;: 15}&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.search" title="Permalink to this definition">¶</a></dt>
<dd><p>search for records that match text</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam Adam Jones&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally Mary Smith&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">55</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Bob Marvin Smith&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;smi&#39;</span><span class="p">)))</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;[&lt;Person {&#39;name&#39;: &#39;Sally Mary Smith&#39;, &#39;age&#39;: 55}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Bob Marvin Smith&#39;, &#39;age&#39;: 25}&gt;]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;bo smi&#39;</span><span class="p">))</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Bob Marvin Smith&#39;, &#39;age&#39;: 25}&gt;]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;smi 55&#39;</span><span class="p">))</span>
<span class="go">[&lt;Person {&#39;name&#39;: &#39;Sally Mary Smith&#39;, &#39;age&#39;: 55}&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="zoom.records.RecordStore.zap">
<code class="descname">zap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.RecordStore.zap" title="Permalink to this definition">¶</a></dt>
<dd><p>deletes all entities of the given kind</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">setup_test</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">People</span><span class="p">(</span><span class="n">RecordStore</span><span class="p">):</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="n">Person</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sally&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">people</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">())</span> <span class="o">==</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;[&lt;Person {&#39;name&#39;: &#39;Sally&#39;, &#39;age&#39;: 25}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Sam&#39;, &#39;age&#39;: 25}&gt;, &quot;</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;Person {&#39;name&#39;: &#39;Joe&#39;, &#39;age&#39;: 25}&gt;]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">zap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">people</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zoom.records.Result">
<em class="property">class </em><code class="descclassname">zoom.records.</code><code class="descname">Result</code><span class="sig-paren">(</span><em>rows</em>, <em>storage</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.Result" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>rows resulting from a method call</p>
</dd></dl>

<dl class="function">
<dt id="zoom.records.get_result_iterator">
<code class="descclassname">zoom.records.</code><code class="descname">get_result_iterator</code><span class="sig-paren">(</span><em>rows</em>, <em>storage</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.get_result_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an iterator that iterates over the rows and zips the names onto
the items being iterated so they come back as dicts</p>
</dd></dl>

<dl class="function">
<dt id="zoom.records.table_of">
<code class="descclassname">zoom.records.</code><code class="descname">table_of</code><span class="sig-paren">(</span><em>klass</em>, <em>db=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.records.table_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a table of Records of the given class</p>
<p>The klass parameter can be a subclass of zoom.Model or
a table name.  If a zoom.Model is provided the actual
table name is derived from the class name.  If the table
name is provivded then it’s taken as-is.</p>
<p>Uses the current site database if none is provided.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">zoom</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">Site</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">users</span> <span class="o">=</span> <span class="n">table_of</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">.</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">users</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span><span class="p">[</span><span class="s1">&#39;first_name&#39;</span><span class="p">]</span>
<span class="go">&#39;Admin&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-zoom.buckets">
<span id="zoom-buckets-module"></span><h2>zoom.buckets module<a class="headerlink" href="#module-zoom.buckets" title="Permalink to this headline">¶</a></h2>
<p>buckets</p>
<p>stores blobs of data</p>
<dl class="attribute">
<dt id="zoom.buckets.Bucket">
<code class="descclassname">zoom.buckets.</code><code class="descname">Bucket</code><a class="headerlink" href="#zoom.buckets.Bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#zoom.buckets.FileBucket" title="zoom.buckets.FileBucket"><code class="xref py py-class docutils literal notranslate"><span class="pre">zoom.buckets.FileBucket</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="zoom.buckets.FileBucket">
<em class="property">class </em><code class="descclassname">zoom.buckets.</code><code class="descname">FileBucket</code><span class="sig-paren">(</span><em>path</em>, <em>id_factory=&lt;function new_id&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>File Bucket</p>
<p>FileBucket can store and retreive blobs of binary data.  This is
useful for storing images or files as attachments where you want
to put the binary data somewhere and be able to retreive it later
if asked.  The id returned is generally stored in a database or
somewhere else where it is associated with other entities in the
system.</p>
<p>FileBucket stores directly into a folder on the drive of the web
server where it has sufficient permissions to do so.  This is a
potential attack area so be careful to take the appropriate
precautions.</p>
<p>The location of the buckets is determined by [data] path setting
in the site.ini configuration file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">zoom</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">zoom</span><span class="o">.</span><span class="n">sites</span><span class="o">.</span><span class="n">Site</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">data_path</span><span class="p">,</span> <span class="s1">&#39;buckets&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id_</span><span class="si">%04d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">9</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_id</span> <span class="o">=</span> <span class="n">ids</span><span class="o">.</span><span class="n">pop</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">Bucket</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">new_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_id</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;some data&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_id</span>
<span class="go">&#39;id_0000&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="go">b&#39;some data&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_id</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item_id</span>
<span class="go">&#39;id_0001&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
<span class="go">b&#39;[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span> <span class="o">=</span> <span class="n">Bucket</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">new_id</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;some data&#39;</span><span class="p">)</span>
<span class="go">&#39;id_0002&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bucket</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;some more data&#39;</span><span class="p">)</span>
<span class="go">&#39;id_0003&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">bucket</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;id_0002&#39;, &#39;id_0003&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">item_id</span> <span class="ow">in</span> <span class="n">bucket</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">bucket</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">item_id</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="zoom.buckets.FileBucket.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>item_id</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.buckets.FileBucket.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>item_id</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket.exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.buckets.FileBucket.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>item_id</em>, <em>default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.buckets.FileBucket.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="zoom.buckets.FileBucket.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.FileBucket.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="zoom.buckets.mkdir_p">
<code class="descclassname">zoom.buckets.</code><code class="descname">mkdir_p</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.mkdir_p" title="Permalink to this definition">¶</a></dt>
<dd><p>make a directory path</p>
<p>Makes a directory path.  If it already exists
then return without doing anything.</p>
</dd></dl>

<dl class="function">
<dt id="zoom.buckets.new_id">
<code class="descclassname">zoom.buckets.</code><code class="descname">new_id</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#zoom.buckets.new_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random unique id</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Dynamic Solutions Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>